## Uprobe

### 介绍

上一个小节，我们介绍了`kprobe`的有关实现细节 以及 使用方法，本小节我们在介绍和`kprobe`实现原理相类似的 `uprobe`



我们只需要区分清楚 `uprobe`和`kprobe`的不同点： 

- uprobe 是对用户态的代码进行修改

- 用户态二进制程序运行时可能会有多个 `副本`（多个进程运行相同的二进制）
  
  

在上面的约束下，形成了如今`uprobe`的实现方案： 

- `uprobe` 注册是针对 `磁盘中的可执行文件`的偏移位置进行注册

- 已经加载，或者将要加载`elf 文件`的进程，一旦检查到该`文件`有`uprobe`注册信息，则需要在 修改对应的内存为对应的断点指令



#### API

由于uprobe 需要结合用户态一起使用，很少会直接在内核中使用，一般`uprobe`是通过`trace events`用户接口使用，我们在介绍完`trace events`之后在继续学习
